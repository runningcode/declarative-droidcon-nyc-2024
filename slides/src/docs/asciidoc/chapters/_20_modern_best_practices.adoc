[background-color="#02303a"]
== Overcoming challenges
image::gradle/bg-7.png[background, size=cover]

ðŸ’ª

=== Overcoming challenges [.small]#- Best practices#
image::gradle/bg-11.png[background, size=cover]

Recommendations can make builds look declarative

* Use Kotlin DSL for good IDE experience
* Keep build logic in plugins
* Give convention plugins meaningful names
* Keep build scripts simple - condition and loop free

[.notes]
--
For a long time, we've suggested effectively declarative build files
that follow these recommendations.
--

=== Overcoming challenges [.small]#- Kotlin vs Groovy#
image::gradle/bg-7.png[background, size=cover]

Kotlin DSL gives better IDE support.

* CMD+click navigation
* Documentation
* Auto-complete/code assistance

Groovy DSL has dynamic parts that can only be known/checked at runtime.

[.notes]
--
Good IDE support with static typing and APIs
CMD+click navigation, documentation, auto-complete/code assistance
Groovy has dynamic parts that can only be checked at runtime.
--

=== Overcoming challenges [.small]#- &#x1F389;#
image::gradle/bg-7.png[background, size=cover]

Refactoring the last build script into a plugin.

`com.example.java-application-conventions.gradle.kts`
```kotlin
plugins {
   id("application")
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(11)
    }
}

dependencies {
    testImplementation("org.junit.jupiter:junit-jupiter:5.10.2")
}

tasks.named<Test>("test") {
    javaLauncher = javaToolchains.launcherFor {
        languageVersion = JavaLanguageVersion.of(17)
    }
}
```

[.notes]
--
This is the example before, but using a plugin.
This hides some of the code-like parts.
--

=== Overcoming challenges [.small]#- &#x1F389;#
image::gradle/bg-7.png[background, size=cover]

Applying that convention.

`build.gradle.kts`
```kotlin
plugins {
   id("com.example.java-application-conventions")
}

application.mainClass = "com.example.Main"

dependencies {
    implementation("com.google.guava:guava:31.0-jre")
}
```

[.notes]
--
Same example, but using the convention plugin.
This is simpler looking, but maybe not enough.
--
