[background-color="#02303a"]
== Challenges &#x1F525;
image::gradle/bg-7.png[background, size=cover]

[.notes]
--

--

=== Challenges &#x1F525;
image::gradle/bg-7.png[background, size=cover]

Build language 

* Highly flexible, extensible, and fully adaptable to the most complex requirements &#x1F44D;
* Appreciated by advanced users &#x1F44D;

* Significant learning curve &#x1F44E;
* Projects often look very different from one another &#x1F44E;

=== Challenges &#x1F525;
image::gradle/bg-7.png[background, size=cover]

Flexible + extensible = build scripts can get messy.

`build.gradle.kts`
```kotlin
plugins {
    id("my-conventions")
}

apply {
    from("dependencies.gradle.kts")
}

tasks.named<Test>("test") {
    useJUnitPlatform()
    jvmArgs "-Dsamples=${projectDir.absolutePath}/samples"
}

... 500 lines ...

tasks.named<Test>("test") {
    useJUnitPlatform {
        includeTags("Fast")
    }
}
```

[.notes]
--
Where does anything come from?
Footguns
--

=== Challenges [.small]#- Jeg taler Gradle#
image::gradle/bg-7.png[background, size=cover]

`build.gradle.kts`
```kotlin
plugins {
    java
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation(libs.junit.jupiter)

    testRuntimeOnly("org.junit.platform:junit-platform-launcher")

    api(libs.commons.math3)

    implementation(libs.guava)
}

tasks.named<Test>("test") {
    useJUnitPlatform()
}
```

[.notes]
--
I'm building a Java what?
What's a repository?
What's a task?
I'm using JUnit5, I guess that's like JUnit platform?
--

=== Challenges [.small]#- Gauntlet for toolability#
image::gradle/bg-7.png[background, size=cover]

`build.gradle.kts`
```kotlin
android {
    namespace = "com.example.${project.name}"
}

dependencies {
    testImplementation(libs.junit.jupiter)
    testRuntimeOnly("org.junit.platform:junit-platform-launcher")    

    api(libs.commons.math3)

    if (!buildingForJava17()) {
        implementation(libs.java17CompatibilityShim)
    } 
    
    implementation(libs.guava)

    listOf("foo", "bar").forEach { name ->
        implementation("org:${name}:1.0")
    }

}

fun buildingForJava17() = JavaVersion.current() == JavaVersion.VERSION_17
```

[.notes]
--
Very hard for tooling to modify or provide assistance
--